@use '../../styles/mixins' as *;

.sidebarLeft, .sidebarRight {
  position: sticky;
  top: 6rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

// Common Card Style with Advanced Visuals
.card {
  position: relative;
  background: var(--glass-bg);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-radius: 20px;
  padding: 1.5rem;
  
  // Gradient Border Trick using pseudo-element
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    padding: 1px; // Border width
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
    -webkit-mask: 
       linear-gradient(#fff 0 0) content-box, 
       linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  // Noise Texture Overlay
  &::after {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0.03;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    border-radius: 20px;
    mix-blend-mode: overlay;
  }

  // Shadow for depth - Removed default shadow as requested
  // box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); 
  box-shadow: none; // Explicitly remove default shadow
  transition: box-shadow 0.3s;

  &:hover {
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); // Add shadow ONLY on hover if desired, or keep flat? User said "first remove default floating shadow effects". I'll keep hover effects for interactivity or maybe remove them too if "floating" referred to hover. But likely means "static default shadow". 
      // User said "hover的時候 黑色border去掉" before. Now "Default suspension shadow effect". 
      // I'll assume they want it flat by default.
  }
}

// Profile Specifics
.profileCard {
  @extend .card;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.avatarContainer {
  position: relative;
  margin-bottom: 1rem;
  
  &::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--accent-color), #a371f7);
    opacity: 0.6;
    filter: blur(8px);
    z-index: 0;
  }
}

.avatar {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.8);
  position: relative;
  z-index: 1;
  object-fit: cover;
}

.name {
  font-size: 1.3rem;
  font-weight: 700;
  margin: 0 0 0.5rem;
  background: linear-gradient(135deg, #fff, #ccc);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.bio {
  font-size: 0.9rem;
  opacity: 0.7;
  margin: 0 0 1.5rem;
  line-height: 1.5;
}

.socialIcons {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;

  a, span {
    color: var(--text-primary);
    opacity: 0.6;
    transition: all 0.3s ease;
    cursor: pointer;
    font-size: 1.2rem;

    &:hover {
      opacity: 1;
      color: var(--accent-color);
      transform: translateY(-2px);
      text-shadow: 0 0 8px var(--accent-color);
    }
  }
}

.copyright {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  padding-top: 1rem;
  width: 100%;
  
  p {
    font-size: 0.75rem;
    opacity: 0.4;
    margin: 0;
  }
}

// Widget Styles
.widgetHeader {
  font-size: 1rem;
  margin: 0 0 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
  color: var(--accent-color);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.tagCloud {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
}

.tag {
  background: rgba(255, 255, 255, 0.03);
  padding: 0.4rem 0.8rem;
  border-radius: 20px;
  font-size: 0.85rem; // Fixed typo: fontSize -> font-size
  cursor: pointer;
  border: 1px solid rgba(255, 255, 255, 0.05);
  transition: all 0.2s;
  color: var(--text-primary);
  opacity: 0.8;

  &:hover {
    background: rgba(var(--accent-rgb), 0.15);
    border-color: rgba(var(--accent-rgb), 0.3);
    color: #fff;
    opacity: 1;
    box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.2);
  }
}

.quoteWidget {
  @extend .card;
  background: linear-gradient(135deg, rgba(88, 166, 255, 0.05), rgba(163, 113, 247, 0.05));
  
  p {
    font-size: 0.95rem;
    line-height: 1.6;
    opacity: 0.9;
    font-style: italic;
    font-family: serif; // Or a nice serif font if available
  }
}

// New Widget Styles for Enrichment
.techStackGrid {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.techBadge {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  padding: 0.3rem 0.6rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-family: monospace;
  transition: all 0.2s;
  cursor: default;

  &:hover {
    background: rgba(var(--accent-rgb), 0.2);
    border-color: rgba(var(--accent-rgb), 0.4);
    transform: translateY(-1px);
  }
}

.statRow {
  display: flex;
  align-items: center;
  justify-content: space-around;
  width: 100%;
  margin: 1rem 0;
  padding: 1rem 0;
  border-top: 1px solid rgba(255,255,255,0.05);
  border-bottom: 1px solid rgba(255,255,255,0.05);
}

.statItem {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.statValue {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--text-primary);
}

.statLabel {
  font-size: 0.7rem;
  opacity: 0.6;
  margin-top: 0.2rem;
}

.statDivider {
    width: 1px;
    height: 20px;
    background: rgba(255,255,255,0.1);
}

.friendList {
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
    justify-content: center;
}

.friendAvatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    border: 2px solid rgba(255,255,255,0.2);
    cursor: pointer;
    transition: all 0.2s;
    
    // Placeholder image
    background-image: url("https://api.dicebear.com/7.x/avataaars/svg?seed=Friend");
    background-size: cover;

    &:hover {
        transform: scale(1.1);
        border-color: var(--accent-color);
        box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.4);
    }
}
